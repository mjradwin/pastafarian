<%- await include('partials/header.ejs', {
  title: 'Pastafarian Holiday Calendar üçù',
}) -%>
<meta name="description" content="Perpetual calendar of Pastafarian holy days (Church of the Flying Spaghetti Monster); <%=ev.subject%> is on <%=today.format('dddd, MMMM D, YYYY')%>">
<meta name="author" content="Michael J. Radwin">
<style>
span.twitter-typeahead .tt-menu,
span.twitter-typeahead .tt-dropdown-menu {
  cursor: pointer;
  position: absolute;
  top: 100%;
  left: 0;
  z-index: 1000;
  display: none;
  float: left;
  min-width: 160px;
  padding: 5px 0;
  margin: 2px 0 0;
  list-style: none;
  font-size: 14px;
  text-align: left;
  background-color: #ffffff;
  border: 1px solid #cccccc;
  border: 1px solid rgba(0, 0, 0, 0.15);
  border-radius: 4px;
  -webkit-box-shadow: 0 6px 12px rgba(0, 0, 0, 0.175);
  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.175);
  background-clip: padding-box;
}
span.twitter-typeahead .tt-suggestion {
  display: block;
  padding: 3px 20px;
  clear: both;
  font-weight: normal;
  line-height: 1.42857143;
  color: #333333;
  white-space: nowrap;
}
span.twitter-typeahead .tt-suggestion.tt-cursor,
span.twitter-typeahead .tt-suggestion:hover,
span.twitter-typeahead .tt-suggestion:focus {
  color: #ffffff;
  text-decoration: none;
  outline: 0;
  background-color: #337ab7;
}
.input-group.input-group-lg span.twitter-typeahead .form-control {
  height: 46px;
  padding: 10px 16px;
  font-size: 18px;
  line-height: 1.3333333;
  border-radius: 6px;
}
.input-group.input-group-sm span.twitter-typeahead .form-control {
  height: 30px;
  padding: 5px 10px;
  font-size: 12px;
  line-height: 1.5;
  border-radius: 3px;
}
span.twitter-typeahead {
  width: 100%;
}
.input-group span.twitter-typeahead {
  display: block !important;
  height: 34px;
}
.input-group span.twitter-typeahead .tt-menu,
.input-group span.twitter-typeahead .tt-dropdown-menu {
  top: 32px !important;
}
.input-group span.twitter-typeahead:not(:first-child):not(:last-child) .form-control {
  border-radius: 0;
}
.input-group span.twitter-typeahead:first-child .form-control {
  border-top-left-radius: 4px;
  border-bottom-left-radius: 4px;
  border-top-right-radius: 0;
  border-bottom-right-radius: 0;
}
.input-group span.twitter-typeahead:last-child .form-control {
  border-top-left-radius: 0;
  border-bottom-left-radius: 0;
  border-top-right-radius: 4px;
  border-bottom-right-radius: 4px;
}
.input-group.input-group-sm span.twitter-typeahead {
  height: 30px;
}
.input-group.input-group-sm span.twitter-typeahead .tt-menu,
.input-group.input-group-sm span.twitter-typeahead .tt-dropdown-menu {
  top: 30px !important;
}
.input-group.input-group-lg span.twitter-typeahead {
  height: 46px;
}
.input-group.input-group-lg span.twitter-typeahead .tt-menu,
.input-group.input-group-lg span.twitter-typeahead .tt-dropdown-menu {
  top: 46px !important;
}
p.tt-suggestion.tt-selectable {
  margin-top: 0;
  margin-bottom: 0.3rem;
}
</style>
</head>
<body>
<div class="container">
<div id="content" class="mt-3">
<div class="row">
<div class="col-sm-9">
<header>
<h1><img src="/i/fsm_calendar2.svg" alt="" width="48" height="48" class="img-fluid float-start me-2">
 Pastafarian Holidays <span class="text-nowrap">üçù üôè üè¥‚Äç‚ò†Ô∏è</span>
</h1>
</header>
<p class="lead"><time datetime="<%=today.format('YYYY-MM-DD')%>"><%=today.format('dddd, MMMM D, YYYY')%></time>
&middot; <a href="<%=ev.url%>"><%=ev.emoji%>&nbsp;<%=ev.subject%>&nbsp;<%=ev.emoji%></a></p>
<p class="lead">Pastafarian holidays are observed by adherents of Pastafarianism,
a social movement that promotes a light-hearted view of religion.&nbsp;<sup><a
title="Flying Spaghetti Monster from Wikipedia, the free encyclopedia"
href="https://en.wikipedia.org/wiki/Flying_Spaghetti_Monster">[1]</a></sup></p>
<p>Subscribe to the Pastafarian Holy Days calendar feed for perpetual updates.
Works on iPhone, iPad, Microsoft Outlook, Android (via Google Calendar),
macOS Desktop Calendar, Windows 10 calendar, or to any desktop program that
supports iCalendar (.ics) files.</p>
<div>
  <a class="btn btn-outline-primary btn-sm me-2 mb-2 download" title="Subscribe to Pastafarian Calendar for Apple iPhone, iPad, macOS" href="webcal://www.pastafariancalendar.com/feed.ics">
  <svg class="icon icon-sm align-top"><use xlink:href="/i/sprite2.svg#icon-appleinc"></use></svg> Apple</a>
  <a class="btn btn-outline-primary btn-sm me-2 mb-2 download" title="Add Pastafarian Calendar to Google Calendar" href="https://www.google.com/calendar/render?cid=http%3A%2F%2Fwww.pastafariancalendar.com%2Ffeed.ics">
  <svg class="icon icon-sm align-top"><use xlink:href="/i/sprite2.svg#icon-google"></use></svg> Google</a>
  <a class="btn btn-outline-primary btn-sm me-2 mb-2 download" title="Subscribe to Pastafarian Calendar in Outlook.com"
  href="https://outlook.live.com/calendar/addfromweb?url=https://www.pastafariancalendar.com/feed.ics&amp;name=Pastafarian%20Holy%20Days&amp;mkt=en-001">
  <svg class="icon icon-sm align-top"><use xlink:href="/i/sprite2.svg#icon-microsoftoutlook"></use></svg> Outlook.com</a>
</div>
<div>
  <div class="input-group mb-3">
  <input type="text" class="form-control" id="grabLink"
  value="https://www.pastafariancalendar.com/feed.ics">
  <button id="grabBtn" class="btn btn-secondary" data-clipboard-target="#grabLink">
  <svg class="icon align-top"><use xlink:href="/i/sprite2.svg#clippy"></use></svg>
  Copy
  </button>
  </div><!-- .input-group -->
</div>
<div class="mb-4">
  <h4 class="mt-4">Upcoming Holy Days</h4>
  <table class="table">
  <tbody>
  <% for (const ev of upcoming) { -%>
   <tr><td><time datetime="<%=ev.d.format('YYYY-MM-DD')%>"><%-ev.d.format('ddd, MMMM[&nbsp;]D')%></time></td>
   <td><a href="<%=ev.url%>"><%=ev.subject%><%-ev.emoji ? '&nbsp;' + ev.emoji : ''%></a>
   <script type="application/ld+json"><%-JSON.stringify(ev.jsonLD)%></script></td></tr>
<% } -%>
  </tbody>
  </table>
  <p><a class="btn btn-primary" href="/holidays"><%= new Date().getFullYear() %> Holiday Calendar &raquo;</a></p>
  <h4 class="mt-4">Find a Pastafarian Holy Day</h4>
  <div id="search" class="input-group mb-3">
  <input class="typeahead form-control" type="text" placeholder="Holiday name or date">
  </div>
</div><!-- .mb-4 -->
</div><!-- .col-sm-9 -->
<div class="col-sm-3 mb-2 d-print-none">
<a target="_blank" title="The Gospel of the Flying Spaghetti Monster" rel="sponsored" href="https://www.amazon.com/gp/product/0812976568/ref=as_li_tl?ie=UTF8&camp=1789&creative=9325&creativeASIN=0812976568&linkCode=as2&tag=pastafsm-20&linkId=1c88397d25788ac3c2701ccb3f337cb6">
  <img class="card-img-top" style="max-width: 200px; height: auto" alt="The Gospel of the Flying Spaghetti Monster" src="/i/51r2Bu475NL._SL250_.jpg" width="200" height="250">
</a>
<div class="card-body">
  <p class="card-text small"><a target="_blank" rel="sponsored" href="https://www.amazon.com/gp/product/0812976568/ref=as_li_tl?ie=UTF8&camp=1789&creative=9325&creativeASIN=0812976568&linkCode=as2&tag=pastafsm-20&linkId=7708b82e95707e1df60c40a480805efb">The Gospel of the Flying Spaghetti Monster</a>
  &middot; <em class="small text-muted text-nowrap">paid link</em></p>
</div><!-- .card-body -->
</div><!-- .col -->
</div><!-- .row -->

</div><!-- #content -->
<%- await include('partials/footer.ejs') _%>
<script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.6/dist/clipboard.min.js"></script>
<script>
document.addEventListener('DOMContentLoaded', function() {
var clipboard = new ClipboardJS('#grabBtn', {});
var grabBtn = document.querySelector('#grabBtn');
var tooltipBtn=new bootstrap.Tooltip(grabBtn, {trigger:'manual'});
clipboard.on('success', function(e) {
  e.trigger.setAttribute('data-bs-original-title','Copied!');
  tooltipBtn.show();
  e.clearSelection();
});
clipboard.on('error', function(e) {
  var modifierKey=/mac/i.test(navigator.userAgent)?'\u2318':'Ctrl-';
  var fallbackMsg='Press '+modifierKey+'C to copy';
  e.trigger.setAttribute('data-bs-original-title',fallbackMsg);
  tooltipBtn.show();
});
});
</script>
<script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/corejs-typeahead@1.3.1/dist/typeahead.bundle.min.js"></script>
<script>
document.addEventListener('DOMContentLoaded', function() {
var bloodhound = new Bloodhound({
  datumTokenizer: Bloodhound.tokenizers.obj.whitespace('value'),
  queryTokenizer: Bloodhound.tokenizers.whitespace,
  identify: function(obj) { return obj.day },
  prefetch: '/holidays.json'
});

function makeAnchor(s) {
  return s.toLowerCase()
      .replace(/'/g, '')
      .replace(/[^\w]/g, '-')
      .replace(/-+/g, '-')
      .replace(/^-/g, '')
      .replace(/-$/g, '');
}

var today = new Date();
var todayYear = today.getFullYear();
$('#search .typeahead').typeahead({
  autoselect: true,
}, {
  name: 'holidays',
  display: 'value',
  source: bloodhound,
  limit: 8,
}).bind('typeahead:select', function(ev, suggestion, name) {
  document.location = '/' + makeAnchor(suggestion.subject) + '-' + todayYear + '-' + suggestion.day;
});
});
</script>
</body>
</html>
<!-- generated <%= new Date().toISOString() %> -->
